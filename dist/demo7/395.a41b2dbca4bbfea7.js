"use strict";(self.webpackChunkdemo7=self.webpackChunkdemo7||[]).push([[395],{5395:(je,_,o)=>{o.r(_),o.d(_,{AnfrageAnzeigenModule:()=>_e});var l=o(177),h=o(4035),d=o(8742),e=o(4438),j=o(2089),x=o(7673),E=o(8141),m=o(9437),w=o(7770),f=o(6831),u=o(1774),c=o(9417);const S=t=>["/anfrage-anzeigen",t,"nachricht-erstellen"];function I(t,s){if(1&t&&(e.j41(0,"option",57),e.EFF(1),e.k0s()),2&t){const n=s.$implicit;e.Y8G("value",n.value),e.R7$(),e.JRh(n.label)}}function C(t,s){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",42)(2,"button",43),e.nrm(3,"i",44),e.k0s(),e.j41(4,"div",45)(5,"div",46),e.EFF(6,"Weitere Optionen"),e.k0s(),e.nrm(7,"div",47)(8,"div",48),e.j41(9,"div",49)(10,"label",50),e.EFF(11,"Status der Angebotsanfrage"),e.k0s(),e.j41(12,"p",51),e.EFF(13),e.k0s(),e.j41(14,"select",52),e.mxI("ngModelChange",function(r){e.eBV(n);const i=e.XpG().ngIf;return e.DH7(i.status,r)||(i.status=r),e.Njj(r)}),e.bIt("change",function(r){e.eBV(n);const i=e.XpG().ngIf,g=e.XpG(2);return e.Njj(g.onStatusChange(r,i))}),e.DNE(15,I,2,2,"option",53),e.k0s()(),e.j41(16,"div",49)(17,"label",50),e.EFF(18,"Status in %"),e.k0s(),e.j41(19,"input",54),e.mxI("ngModelChange",function(r){e.eBV(n);const i=e.XpG().ngIf;return e.DH7(i.fortschritt,r)||(i.fortschritt=r),e.Njj(r)}),e.bIt("change",function(r){e.eBV(n);const i=e.XpG().ngIf,g=e.XpG(2);return e.Njj(g.onFortschrittChange(r,i))}),e.k0s()(),e.j41(20,"div",55)(21,"button",56),e.EFF(22," Nachricht erstellen "),e.k0s()()()(),e.bVm()}if(2&t){const n=e.XpG().ngIf,a=e.XpG(2);e.R7$(13),e.JRh(n.status),e.R7$(),e.R50("ngModel",n.status),e.R7$(),e.Y8G("ngForOf",a.statusOptions),e.R7$(4),e.R50("ngModel",n.fortschritt),e.R7$(2),e.Y8G("routerLink",e.eq3(6,S,n.anfrageID))("queryParams",a.queryParams)}}function G(t,s){if(1&t&&(e.qex(0),e.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7),e.nrm(6,"img",8)(7,"div",9),e.k0s()(),e.j41(8,"div",10)(9,"div",11)(10,"div",12)(11,"div",13)(12,"span",14),e.EFF(13),e.k0s()(),e.j41(14,"div",15)(15,"span"),e.EFF(16),e.k0s(),e.j41(17,"span",16),e.nrm(18,"app-keenicon",17),e.EFF(19),e.k0s(),e.j41(20,"span",16),e.nrm(21,"app-keenicon",18),e.EFF(22),e.k0s(),e.j41(23,"span",19),e.nrm(24,"app-keenicon",20),e.EFF(25),e.k0s()()(),e.j41(26,"div",21)(27,"button",22),e.EFF(28," Anfrage zur\xfcckziehen "),e.k0s(),e.DNE(29,C,23,8,"ng-container",23),e.nI1(30,"async"),e.k0s()(),e.j41(31,"div",24)(32,"div",25)(33,"div",26)(34,"div",27)(35,"div",28),e.nrm(36,"app-keenicon",29),e.j41(37,"div",30),e.EFF(38),e.k0s()(),e.j41(39,"div",31),e.EFF(40,"kWh Strom / Jahr"),e.k0s()(),e.j41(41,"div",27)(42,"div",28),e.nrm(43,"app-keenicon",32),e.j41(44,"div",30),e.EFF(45),e.k0s()(),e.j41(46,"div",31),e.EFF(47,"kWh Gas / Jahr"),e.k0s()(),e.j41(48,"div",27)(49,"div",28),e.nrm(50,"app-keenicon",29),e.j41(51,"div",30),e.EFF(52),e.k0s()(),e.j41(53,"div",31),e.EFF(54,"Gew\xfcnschter Lieferbeginn"),e.k0s()()()(),e.j41(55,"div",33)(56,"div",34)(57,"span",31),e.EFF(58,"Prozess-Fortschritt"),e.k0s(),e.j41(59,"span",35),e.EFF(60),e.k0s()(),e.j41(61,"div",36),e.nrm(62,"div",37),e.k0s()()()()(),e.j41(63,"div",38)(64,"ul",39)(65,"li",40)(66,"a",41),e.EFF(67," Anfrageparameter "),e.k0s()(),e.j41(68,"li",40)(69,"a",41),e.EFF(70," Messlokationen "),e.k0s()(),e.j41(71,"li",40)(72,"a",41),e.EFF(73," Erhaltene Angebote "),e.k0s()(),e.j41(74,"li",40)(75,"a",41),e.EFF(76," Dokumente "),e.k0s()(),e.j41(77,"li",40)(78,"a",41),e.EFF(79," Nachrichten "),e.k0s()()()()()(),e.nrm(80,"router-outlet"),e.bVm()),2&t){const n=s.ngIf,a=e.XpG(2);e.R7$(13),e.SpI(" Anfrage: ",n.anfrageBezeichnung," "),e.R7$(2),e.ZvI("badge badge-light-",n.style," me-5"),e.R7$(),e.SpI(" ",n.status,""),e.R7$(3),e.SpI(" ",n.firma," "),e.R7$(3),e.SpI(" ",n.anfragezeit," "),e.R7$(3),e.SpI(" ",n.email," "),e.R7$(4),e.Y8G("ngIf",e.bMT(30,30,a.isAgent$)),e.R7$(9),e.JRh(n.jahresverbrauchStrom),e.R7$(7),e.JRh(n.jahresverbrauchGas),e.R7$(7),e.JRh(n.lieferbeginn),e.R7$(8),e.SpI(" ",n.fortschritt," %"),e.R7$(2),e.xc7("width",n.fortschritt+"%"),e.R7$(4),e.Mz_("routerLink","/anfrage-anzeigen/",n.anfrageID,"/anfrageparameter"),e.Y8G("queryParams",a.queryParams),e.R7$(3),e.Mz_("routerLink","/anfrage-anzeigen/",n.anfrageID,"/messlokationen"),e.Y8G("queryParams",a.queryParams),e.R7$(3),e.Mz_("routerLink","/anfrage-anzeigen/",n.anfrageID,"/angebote"),e.Y8G("queryParams",a.queryParams),e.R7$(3),e.Mz_("routerLink","/anfrage-anzeigen/",n.anfrageID,"/dokumente"),e.Y8G("queryParams",a.queryParams),e.R7$(3),e.Mz_("routerLink","/anfrage-anzeigen/",n.anfrageID,"/nachrichten"),e.Y8G("queryParams",a.queryParams)}}function T(t,s){if(1&t&&(e.qex(0),e.DNE(1,G,81,32,"ng-container",2),e.nI1(2,"async"),e.bVm()),2&t){const n=e.XpG(),a=e.sdS(2);e.R7$(),e.Y8G("ngIf",e.bMT(2,2,n.anfrage$))("ngIfElse",a)}}function z(t,s){1&t&&(e.j41(0,"div"),e.EFF(1,"Loading..."),e.k0s())}function M(t,s){1&t&&(e.j41(0,"div"),e.EFF(1,"Keine Lieferanfrage gefunden"),e.k0s())}let y=(()=>{class t{anfragenApiService;anfragenAgentApiService;authHelperService;route;cdr;queryParams;anfrage$;anfrageNotFound=!1;isAgent$;statusOptions=[{value:"offen",label:"Offen"},{value:"in_bearbeitung",label:"In Bearbeitung"},{value:"abgeschlossen",label:"Abgeschlossen"}];constructor(n,a,r,i,g){this.anfragenApiService=n,this.anfragenAgentApiService=a,this.authHelperService=r,this.route=i,this.cdr=g}ngOnInit(){this.route.paramMap.subscribe(n=>{this.getAnfrage(n.get("id"))}),this.route.queryParams.subscribe(n=>{this.queryParams=n}),this.isAgent$=this.authHelperService.isAgent()}getAnfrage(n){this.authHelperService.isAgent().subscribe(a=>{a?this.route.queryParamMap.subscribe(r=>{this.anfrage$=this.anfragenAgentApiService.getAnfrage(n,r.get("partnerprofil")).pipe((0,E.M)(i=>{i||(this.anfrageNotFound=!0),this.cdr.detectChanges()}))}):this.anfrage$=this.anfragenApiService.getAnfrage(n).pipe((0,E.M)(r=>{r||(this.anfrageNotFound=!0),this.cdr.detectChanges()}))})}onStatusChange(n,a){a.status=n.target.value,this.anfragenAgentApiService.editAnfrage(a).pipe((0,m.W)(i=>(console.error("Status update failed",i),(0,x.of)(null)))).subscribe()}onFortschrittChange(n,a){a.fortschritt=n.target.valueAsNumber,this.anfragenAgentApiService.editAnfrage(a).pipe((0,m.W)(i=>(console.error("Progress update failed",i),(0,x.of)(null)))).subscribe()}static \u0275fac=function(a){return new(a||t)(e.rXU(j.I),e.rXU(w.F),e.rXU(f.M),e.rXU(d.nX),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:t,selectors:[["app-profile"]],decls:5,vars:2,consts:[["loading",""],["notFound",""],[4,"ngIf","ngIfElse"],[1,"card","mb-5","mb-xl-10"],[1,"card-body","pt-9","pb-0"],[1,"d-flex","flex-wrap","flex-sm-nowrap","mb-3"],[1,"me-7","mb-4"],[1,"symbol","symbol-100px","symbol-lg-160px","symbol-fixed","position-relative"],["src","./assets/media/logo/favicon.png","alt","Stromify"],[1,"position-absolute","translate-middle","bottom-0","start-100","mb-6","bg-success","rounded-circle","border","border-4","border-white","h-20px","w-20px"],[1,"flex-grow-1"],[1,"d-flex","justify-content-between","align-items-start","flex-wrap","mb-2"],[1,"d-flex","flex-column"],[1,"d-flex","align-items-center","mb-2"],[1,"text-gray-800","fs-2","fw-bolder","me-1"],[1,"d-flex","flex-wrap","fw-bold","fs-6","mb-4","pe-2"],[1,"d-flex","align-items-center","text-gray-500","me-5","mb-2"],["name","profile-circle",1,"fs-4","me-1"],["name","time",1,"fs-4","me-1"],[1,"d-flex","align-items-center","text-gray-500","mb-2"],["name","sms",1,"fs-4","me-1"],[1,"d-flex","my-4"],[1,"btn","btn-sm","btn-warning","me-3","cursor-pointer"],[4,"ngIf"],[1,"d-flex","flex-wrap","flex-stack"],[1,"d-flex","flex-column","flex-grow-1","pe-8"],[1,"d-flex","flex-wrap"],[1,"border","border-gray-300","border-dashed","rounded","min-w-125px","py-3","px-4","me-6","mb-3"],[1,"d-flex","align-items-center"],["name","arrow-up",1,"fs-3","text-success","me-2"],[1,"fs-2","fw-bolder"],[1,"fw-bold","fs-6","text-gray-500"],["name","arrow-down",1,"fs-3","text-danger","me-2"],[1,"d-flex","align-items-center","w-200px","w-sm-300px","flex-column","mt-3"],[1,"d-flex","justify-content-between","w-100","mt-auto","mb-2"],[1,"fw-bolder","fs-6"],[1,"h-5px","mx-3","w-100","bg-light","mb-3"],["role","progressbar",1,"bg-success","rounded","h-5px"],[1,"d-flex","overflow-auto","h-55px"],[1,"nav","nav-stretch","nav-line-tabs","nav-line-tabs-2x","border-transparent","fs-5","fw-bolder","flex-nowrap"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link","text-active-primary","me-6",3,"routerLink","queryParams"],[1,"me-0"],["data-kt-menu-trigger","click","data-kt-menu-placement","bottom-end","data-kt-menu-flip","top-end",1,"btn","btn-sm","btn-icon","btn-bg-light","btn-active-color-primary"],[1,"bi","bi-three-dots","fs-3"],["data-kt-menu","true",1,"px-7","py-5","menu","menu-sub","menu-sub-dropdown","w-250px","w-md-300px"],[1,"fs-5","text-gray-900","fw-bolder"],[1,"separator","border-gray-200"],[1,"px-7","py-5"],[1,"mb-10"],[1,"form-label","fw-bold"],[1,"text-muted"],[1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","number",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-sm","btn-primary",3,"routerLink","queryParams"],[3,"value"]],template:function(a,r){if(1&a&&e.DNE(0,T,3,4,"ng-container",2)(1,z,2,0,"ng-template",null,0,e.C5r)(3,M,2,0,"ng-template",null,1,e.C5r),2&a){const i=e.sdS(4);e.Y8G("ngIf",!r.anfrageNotFound)("ngIfElse",i)}},dependencies:[l.Sq,l.bT,d.n3,d.Wk,d.wQ,u.w,c.xH,c.y7,c.me,c.Q0,c.wz,c.BC,c.vS,l.Jj],encapsulation:2})}return t})();function N(t,s){if(1&t&&(e.qex(0),e.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),e.EFF(5,"Anfrageparameter"),e.k0s()(),e.j41(6,"a",6),e.EFF(7," Anfrage zur\xfcckziehen "),e.k0s()(),e.j41(8,"div",7),e.nrm(9,"app-keenicon",8),e.j41(10,"div",9)(11,"div",10)(12,"h4",11),e.EFF(13,"Hinweis"),e.k0s(),e.j41(14,"div",12),e.EFF(15," Die Anfrage befindet sich zur Bearbeitung bei Energieversorgern, aus diesem Grund kann sie nach Anfragestellung nicht mehr ver\xe4ndert werden. "),e.k0s()()()(),e.j41(16,"div",13)(17,"h2",14),e.EFF(18," Verbrauchsdaten "),e.k0s(),e.j41(19,"div",15)(20,"label",16),e.EFF(21,"Stromverbrauch (kWh / Jahr)"),e.k0s(),e.j41(22,"div",17)(23,"span",18),e.EFF(24),e.k0s()()(),e.j41(25,"div",19)(26,"div",20)(27,"label",21),e.nrm(28,"app-keenicon",22),e.j41(29,"span",23)(30,"span",24),e.EFF(31,"\xd6kostrom"),e.k0s(),e.j41(32,"span",25),e.EFF(33," Die Versorgung soll \xfcber regenerativen Strom erfolgen "),e.k0s()()()(),e.j41(34,"div",20)(35,"label",21),e.nrm(36,"app-keenicon",26),e.j41(37,"span",23)(38,"span",24),e.EFF(39,"Normaler Strom"),e.k0s(),e.j41(40,"span",25),e.EFF(41," Die Versorgung kann \xfcber einen flexiblen Strommix erfolgen "),e.k0s()()()()(),e.j41(42,"div",15)(43,"label",16),e.EFF(44,"Gasverbrauch (kWh / Jahr)"),e.k0s(),e.j41(45,"div",17)(46,"span",18),e.EFF(47),e.k0s()()(),e.j41(48,"div",19)(49,"div",20)(50,"label",21),e.nrm(51,"app-keenicon",22),e.j41(52,"span",23)(53,"span",24),e.EFF(54,"Biogas"),e.k0s(),e.j41(55,"span",25),e.EFF(56," Die Versorgung soll \xfcber klimaneutrales Biogas erfolgen "),e.k0s()()()(),e.j41(57,"div",20)(58,"label",21),e.nrm(59,"app-keenicon",26),e.j41(60,"span",23)(61,"span",24),e.EFF(62,"Normales Gas"),e.k0s(),e.j41(63,"span",25),e.EFF(64," Die Versorgung kann \xfcber fossiles Erdgas erfolgen "),e.k0s()()()()(),e.j41(65,"h2",14),e.EFF(66," Lieferstellen "),e.k0s(),e.j41(67,"div",15)(68,"label",16),e.EFF(69,"Anfragebezeichnung"),e.k0s(),e.j41(70,"div",17)(71,"span",18),e.EFF(72),e.k0s()()(),e.j41(73,"div",27)(74,"label",28),e.EFF(75," Anzahl der Lieferstellen "),e.k0s(),e.j41(76,"div",29)(77,"div",30)(78,"label",31)(79,"span",32),e.EFF(80,"1-1"),e.k0s()()(),e.j41(81,"div",30)(82,"label",31)(83,"span",32),e.EFF(84,"2-10"),e.k0s()()(),e.j41(85,"div",30)(86,"label",31)(87,"span",32),e.EFF(88,"11-50"),e.k0s()()(),e.j41(89,"div",30)(90,"label",31)(91,"span",32),e.EFF(92,"51+"),e.k0s()()()()(),e.j41(93,"div",33)(94,"label",34),e.EFF(95," Weitere Informationseingabe "),e.k0s(),e.j41(96,"div",35)(97,"label",36)(98,"span",37)(99,"span",38)(100,"span",39),e.nrm(101,"app-keenicon",40),e.k0s()(),e.j41(102,"span",41)(103,"span",42),e.EFF(104," per Online-Plattform "),e.k0s(),e.j41(105,"span",43),e.EFF(106," In unserem Online-Portal werden notwendige Informationen erg\xe4nzt (Melo, Malo, Adressen, Lastgangdaten) "),e.k0s()()()(),e.j41(107,"label",36)(108,"span",37)(109,"span",38)(110,"span",39),e.nrm(111,"app-keenicon",44),e.k0s()(),e.j41(112,"span",41)(113,"span",42),e.EFF(114," per letzter Rechnung(en) "),e.k0s(),e.j41(115,"span",43),e.EFF(116," Informationen werden aus der vergangenen Rechnung extrahiert "),e.k0s()()(),e.nrm(117,"span",45),e.k0s(),e.j41(118,"label",36)(119,"span",37)(120,"span",38)(121,"span",39),e.nrm(122,"app-keenicon",46),e.k0s()(),e.j41(123,"span",41)(124,"span",42),e.EFF(125," Per Video-Konferenz "),e.k0s(),e.j41(126,"span",43),e.EFF(127," Wir sprechen digital \xfcber die notwendigen Informationen und n\xe4chste Schritte "),e.k0s()()()()()(),e.j41(128,"h2",14),e.EFF(129," Liefersituation "),e.k0s(),e.j41(130,"div",33)(131,"label",34),e.EFF(132," Was ist Ihnen wichtig? "),e.k0s(),e.j41(133,"div",35)(134,"label",36)(135,"span",37)(136,"span",38)(137,"span",39),e.nrm(138,"app-keenicon",40),e.k0s()(),e.j41(139,"span",41)(140,"span",42),e.EFF(141," Planbare, g\xfcnstige Energie "),e.k0s(),e.j41(142,"span",43),e.EFF(143," ToDo "),e.k0s()()()(),e.j41(144,"label",36)(145,"span",37)(146,"span",38)(147,"span",39),e.nrm(148,"app-keenicon",44),e.k0s()(),e.j41(149,"span",41)(150,"span",42),e.EFF(151," Gleichstellung zum Markt mit Chancen und Risiken "),e.k0s(),e.j41(152,"span",43),e.EFF(153," ToDo "),e.k0s()()()(),e.j41(154,"label",36)(155,"span",37)(156,"span",38)(157,"span",39),e.nrm(158,"app-keenicon",46),e.k0s()(),e.j41(159,"span",41)(160,"span",42),e.EFF(161," Ohne Pr\xe4ferenz "),e.k0s(),e.j41(162,"span",43),e.EFF(163," ToDo "),e.k0s()()()()()(),e.j41(164,"div",27)(165,"label",28),e.EFF(166," Welche Mengenflexibilit\xe4t ben\xf6tigen Sie f\xfcr Strom? "),e.k0s(),e.j41(167,"div",47)(168,"div",30)(169,"label",31)(170,"span",32),e.EFF(171,"80% - 120%"),e.k0s()()(),e.j41(172,"div",30)(173,"label",31)(174,"span",32),e.EFF(175,"90% - 110%"),e.k0s()()(),e.j41(176,"div",30)(177,"label",31)(178,"span",32),e.EFF(179,"unbekannt"),e.k0s()()()(),e.j41(180,"div",48),e.EFF(181," ToDo "),e.k0s()(),e.j41(182,"div",27)(183,"label",28),e.EFF(184," Welche Mengenflexibilit\xe4t ben\xf6tigen Sie f\xfcr Gas? "),e.k0s(),e.j41(185,"div",29)(186,"div",30)(187,"label",31)(188,"span",32),e.EFF(189,"80% - 120%"),e.k0s()()(),e.j41(190,"div",30)(191,"label",31)(192,"span",32),e.EFF(193,"90% - 110%"),e.k0s()()(),e.j41(194,"div",30)(195,"label",31)(196,"span",32),e.EFF(197,"unbekannt"),e.k0s()()()(),e.j41(198,"div",48),e.EFF(199," ToDo "),e.k0s()(),e.j41(200,"div",15)(201,"label",16),e.EFF(202,"Gew\xfcnschter Lieferbeginn"),e.k0s(),e.j41(203,"div",17)(204,"span",18),e.EFF(205),e.k0s()()(),e.j41(206,"div",15)(207,"label",16),e.EFF(208,"Was ist wichtig?"),e.k0s(),e.j41(209,"div",17)(210,"span",18),e.EFF(211),e.k0s()()(),e.j41(212,"h2",14),e.EFF(213," Kontakt "),e.k0s(),e.j41(214,"div",15)(215,"label",16),e.EFF(216,"Firma"),e.k0s(),e.j41(217,"div",17)(218,"span",18),e.EFF(219),e.k0s()()(),e.j41(220,"div",15)(221,"label",16),e.EFF(222,"Vorname"),e.k0s(),e.j41(223,"div",17)(224,"span",18),e.EFF(225),e.k0s()()(),e.j41(226,"div",15)(227,"label",16),e.EFF(228,"Nachname"),e.k0s(),e.j41(229,"div",17)(230,"span",18),e.EFF(231),e.k0s()()(),e.j41(232,"div",15)(233,"label",16),e.EFF(234,"email"),e.k0s(),e.j41(235,"div",17)(236,"span",18),e.EFF(237),e.k0s()()(),e.j41(238,"div",15)(239,"label",16),e.EFF(240,"Telefon"),e.k0s(),e.j41(241,"div",17)(242,"span",18),e.EFF(243),e.k0s()()(),e.j41(244,"div",15)(245,"label",16),e.EFF(246,"Anfragesteller"),e.k0s(),e.j41(247,"div",17)(248,"span",18),e.EFF(249),e.k0s()()(),e.j41(250,"div",15)(251,"label",16),e.EFF(252,"Anfragesteller Beschreibung"),e.k0s(),e.j41(253,"div",17)(254,"span",18),e.EFF(255),e.k0s()()(),e.j41(256,"div",15)(257,"label",16),e.EFF(258,"Anfragezeit"),e.k0s(),e.j41(259,"div",17)(260,"span",18),e.EFF(261),e.k0s()()(),e.j41(262,"div",15)(263,"label",16),e.EFF(264,"Gesperrt"),e.k0s(),e.j41(265,"div",17)(266,"span",18),e.EFF(267),e.k0s()()()()(),e.bVm()),2&t){const n=s.ngIf;e.R7$(24),e.JRh(n.jahresverbrauchStrom),e.R7$(3),e.AVh("active",1==n.oekostrom),e.R7$(8),e.AVh("active",0==n.oekostrom),e.R7$(12),e.JRh(n.jahresverbrauchGas),e.R7$(3),e.AVh("active",1==n.biogas),e.R7$(8),e.AVh("active",0==n.biogas),e.R7$(14),e.JRh(n.anfrageBezeichnung),e.R7$(6),e.AVh("active","1-1"==n.anzahlLieferstellen),e.R7$(4),e.AVh("active","2-10"==n.anzahlLieferstellen),e.R7$(4),e.AVh("active","11-50"==n.anzahlLieferstellen),e.R7$(4),e.AVh("active","51+"==n.anzahlLieferstellen),e.R7$(13),e.Y8G("ngClass","online"==n.informationsergaenzung?"text-primary":"text-gray-800"),e.R7$(10),e.Y8G("ngClass","rechnung"==n.informationsergaenzung?"text-primary":"text-gray-800"),e.R7$(11),e.Y8G("ngClass","video"==n.informationsergaenzung?"text-primary":"text-gray-800"),e.R7$(16),e.Y8G("ngClass","planbar"==n.beschaffungsstrategie?"text-primary":"text-gray-800"),e.R7$(10),e.Y8G("ngClass","markt"==n.beschaffungsstrategie?"text-primary":"text-gray-800"),e.R7$(10),e.Y8G("ngClass","egal"==n.beschaffungsstrategie?"text-primary":"text-gray-800"),e.R7$(9),e.AVh("active","80-120"==n.mengenflexibilitaetStrom),e.R7$(4),e.AVh("active","90-110"==n.mengenflexibilitaetStrom),e.R7$(4),e.AVh("active","unbekannt"==n.mengenflexibilitaetStrom),e.R7$(10),e.AVh("active","80-120"==n.mengenflexibilitaetGas),e.R7$(4),e.AVh("active","90-110"==n.mengenflexibilitaetGas),e.R7$(4),e.AVh("active","unbekannt"==n.mengenflexibilitaetGas),e.R7$(10),e.JRh(n.lieferbeginn),e.R7$(6),e.JRh(n.wasIstWichtig),e.R7$(8),e.JRh(n.firma),e.R7$(6),e.JRh(n.vorname),e.R7$(6),e.JRh(n.nachname),e.R7$(6),e.JRh(n.email),e.R7$(6),e.JRh(n.telefon),e.R7$(6),e.JRh(n.anfragesteller),e.R7$(6),e.JRh(n.anfragestellerBeschreibung),e.R7$(6),e.JRh(n.anfragezeit),e.R7$(6),e.JRh(n.gesperrt)}}function V(t,s){1&t&&(e.j41(0,"div",49)(1,"span",50),e.EFF(2,"Loading..."),e.k0s()())}let D=(()=>{class t{anfragenApiService;route;anfrageAnzeigenComponent;constructor(n,a,r){this.anfragenApiService=n,this.route=a,this.anfrageAnzeigenComponent=r}anfrage$;ngOnInit(){this.anfrage$=this.anfrageAnzeigenComponent.anfrage$,this.route.parent?.paramMap.subscribe(n=>{this.getAnfrage(n.get("id"))})}getAnfrage(n){}static \u0275fac=function(a){return new(a||t)(e.rXU(j.I),e.rXU(d.nX),e.rXU(y))};static \u0275cmp=e.VBU({type:t,selectors:[["app-overview"]],decls:4,vars:4,consts:[["loading",""],[4,"ngIf","ngIfElse"],["id","kt_profile_details_view",1,"card","mb-5","mb-xl-10"],[1,"card-header","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bolder","m-0"],["routerLink","/anfrage-anzeigen/anfrageparameter",1,"btn","btn-warning","align-self-center"],[1,"notice","d-flex","bg-light","rounded","border-warning","border","border-dashed","p-6"],["name","information-5",1,"fs-2","text-warning","me-4"],[1,"d-flex","flex-stack","flex-grow-1"],[1,"fw-bold"],[1,"text-gray-800","fw-bolder"],[1,"fs-6","text-gray-600"],[1,"card-body","p-9"],[1,"fw-bolder","d-flex","align-items-center","text-gray-900"],[1,"row","mb-7"],[1,"col-lg-4","fw-bold","text-muted"],[1,"col-lg-8"],[1,"fw-bolder","fs-6","text-gray-900"],[1,"row"],[1,"col-lg-6"],[1,"btn","btn-outline","btn-outline-dashed","btn-outline-default","p-7","d-flex","align-items-center","mb-10"],["name","abstract-46",1,"fs-1","me-5"],[1,"d-block","fw-bold","text-start"],[1,"text-gray-900","fw-bolder","d-block","fs-4","mb-2"],[1,"text-gray-500","fw-bold","fs-6"],["name","gear",1,"fs-1","me-5"],[1,"mb-10","fv-row"],[1,"d-flex","align-items-center","form-label","mb-3","required"],["data-kt-buttons","true",1,"row","mb-2"],[1,"col"],[1,"btn","btn-outline","btn-outline-dashed","btn-outline-default","w-100","p-4"],[1,"fw-bolder","fs-3"],[1,"mb-0","fv-row"],[1,"d-flex","align-items-center","form-label","mb-5"],[1,"mb-0"],[1,"d-flex","flex-stack","mb-5"],[1,"d-flex","align-items-center","me-2"],[1,"symbol","symbol-50px","me-6"],[1,"symbol-label"],["name","bank",1,"fs-1"],[1,"d-flex","flex-column"],[1,"fw-bolder","fs-5",3,"ngClass"],[1,"fs-6","fw-bold","text-gray-500"],["name","chart",1,"fs-1"],[1,"form-check","form-check-custom","form-check-solid"],["name","chart-pie-4",1,"fs-1"],[1,"row","mb-2"],[1,"form-text"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(a,r){if(1&a&&(e.DNE(0,N,268,48,"ng-container",1),e.nI1(1,"async"),e.DNE(2,V,3,0,"ng-template",null,0,e.C5r)),2&a){const i=e.sdS(3);e.Y8G("ngIf",e.bMT(1,2,r.anfrage$))("ngIfElse",i)}},dependencies:[l.YU,l.bT,d.Wk,u.w,l.Jj],encapsulation:2})}return t})();var b=o(8810),p=o(1626),v=o(6354),F=o(5312);const L=new p.Lr({"Content-Type":"application/json","Access-Control-Allow-Origin":"*","X-Skip-XSRF-TOKEN":"true"});let X=(()=>{class t{http;constructor(n){this.http=n}angeboteUrl=F.c.backendApi+"/v1/angebot";getAngebote(n){var a=new p.Nl;return a=a.append("AnfrageID",n),this.http.get(this.angeboteUrl,{headers:L,params:a}).pipe((0,v.T)(r=>r.angebote),(0,m.W)(this.handleError))}handleError(n){return console.error(n),(0,b.$)(n)}static \u0275fac=function(a){return new(a||t)(e.KVO(p.Qq))};static \u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Y=o(2098);function U(t,s){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"tr")(2,"td")(3,"div",17)(4,"div",18),e.nrm(5,"img",19),e.k0s(),e.j41(6,"div",20)(7,"a",21),e.EFF(8),e.k0s(),e.j41(9,"span",22),e.EFF(10),e.k0s()()()(),e.j41(11,"td")(12,"a",23),e.EFF(13),e.k0s(),e.j41(14,"span",22),e.EFF(15,"pro Jahr"),e.k0s()(),e.j41(16,"td")(17,"a",23),e.EFF(18),e.k0s(),e.j41(19,"span",22),e.EFF(20," pro kWh "),e.k0s()(),e.j41(21,"td")(22,"a",23),e.EFF(23),e.k0s(),e.j41(24,"span",22),e.EFF(25," pro KW "),e.k0s()(),e.j41(26,"td")(27,"span",24),e.EFF(28),e.k0s()(),e.j41(29,"td",25)(30,"button",26),e.bIt("click",function(){const r=e.eBV(n).$implicit,i=e.XpG(2);return e.Njj(i.getDetails(r))}),e.nrm(31,"span",27),e.EFF(32," Details "),e.k0s(),e.j41(33,"a",28),e.nrm(34,"span",27),e.EFF(35," Annehmen "),e.k0s()()(),e.bVm()}if(2&t){const n=s.$implicit;e.R7$(5),e.FS9("src",n.angebotenVonLogo,e.B4B),e.R7$(3),e.Lme(" ",n.angebotenVonKurzbeschreibung," - ",n.angebotTitel," "),e.R7$(2),e.SpI(" ",n.angebotKurzbeschreibung," "),e.R7$(3),e.SpI(" ",n.jahresgrundpreisEur," EUR "),e.R7$(5),e.SpI(" ",n.verbrauchspreisCentKwh," Ct "),e.R7$(5),e.SpI(" ",n.leistungspreisEurKw," "),e.R7$(5),e.JRh(n.status),e.R7$(3),e.Y8G("inlineSVG","./assets/media/icons/duotune/general/gen019.svg"),e.R7$(3),e.Y8G("inlineSVG","./assets/media/icons/duotune/art/art005.svg")}}function q(t,s){if(1&t&&(e.qex(0),e.j41(1,"div",2)(2,"div",3)(3,"h3",4)(4,"span",5),e.EFF(5,"Erhaltene Angebote"),e.k0s(),e.j41(6,"span",6),e.EFF(7," ($.erhalteneAngebote.Anzahl)"),e.k0s()()(),e.j41(8,"div",7)(9,"div",8)(10,"table",9)(11,"thead")(12,"tr",10)(13,"th",11),e.EFF(14,"Versorger & Angebot"),e.k0s(),e.j41(15,"th",12),e.EFF(16,"Grundpreis"),e.k0s(),e.j41(17,"th",12),e.EFF(18,"Arbeitspreis"),e.k0s(),e.j41(19,"th",13),e.EFF(20,"Leistungspreis"),e.k0s(),e.j41(21,"th",14),e.EFF(22,"Status"),e.k0s(),e.nrm(23,"th",15),e.k0s()(),e.j41(24,"tbody"),e.DNE(25,U,36,10,"ng-container",16),e.nI1(26,"async"),e.k0s()()()()(),e.bVm()),2&t){const n=e.XpG();e.R7$(25),e.Y8G("ngForOf",e.bMT(26,1,n.angebote$))}}function W(t,s){1&t&&(e.j41(0,"div",29)(1,"span",30),e.EFF(2,"Loading..."),e.k0s()())}let O=(()=>{class t{angeboteApiService;route;dialogService;constructor(n,a,r){this.angeboteApiService=n,this.route=a,this.dialogService=r}angebote$;isLoading;ngOnInit(){this.isLoading=!0,this.route.parent?.paramMap.subscribe(n=>{this.getAngebote(n.get("id")),this.isLoading=!1})}getAngebote(n){this.angebote$=this.angeboteApiService.getAngebote(n)}getDetails(n){this.dialogService.showMessage(n.angebotTitel+" von "+n.angebotenVonKurzbeschreibung,n.angebotLangbeschreibung)}static \u0275fac=function(a){return new(a||t)(e.rXU(X),e.rXU(d.nX),e.rXU(Y.U))};static \u0275cmp=e.VBU({type:t,selectors:[["app-campaigns"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"card","card-xl-stretch-","mb-xl-8"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bolder","fs-3","mb-1"],[1,"text-muted","mt-1","fw-bold","fs-7"],[1,"card-body","py-3"],[1,"table-responsive"],[1,"table","align-middle","gs-0","gy-4"],[1,"fw-bolder","text-muted","bg-light"],[1,"ps-4","min-w-325px","rounded-start"],[1,"min-w-125px"],[1,"min-w-200px"],[1,"min-w-150px"],[1,"min-w-200px","text-end","rounded-end"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-50px","me-5"],["alt","",1,"",3,"src"],[1,"d-flex","justify-content-start","flex-column"],["href","#",1,"text-gray-900","fw-bolder","text-hover-primary","mb-1","fs-6"],[1,"text-muted","fw-bold","text-muted","d-block","fs-7"],["href","#",1,"text-gray-900","fw-bolder","text-hover-primary","d-block","mb-1","fs-6"],[1,"badge","badge-light-info","fs-7","fw-bold"],[1,"text-end"],[1,"btn","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"svg-icon","svg-icon-3",3,"inlineSVG"],["href","#",1,"btn","btn-bg-light","btn-active-color-primary","btn-sm","me-1"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(a,r){if(1&a&&e.DNE(0,q,27,3,"ng-container",1)(1,W,3,0,"ng-template",null,0,e.C5r),2&a){const i=e.sdS(2);e.Y8G("ngIf",!r.isLoading)("ngIfElse",i)}},dependencies:[l.Sq,l.bT,h.ll,l.Jj],encapsulation:2})}return t})();var J=o(5088);let P=(()=>{class t{constructor(){}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=e.VBU({type:t,selectors:[["app-documents"]],decls:34,vars:0,consts:[[1,"d-flex","flex-wrap","flex-stack","mb-6"],[1,"fw-bolder","my-2"],[1,"fs-6","text-gray-500","fw-bold","ms-1"],[1,"d-flex","my-2"],[1,"d-flex","align-items-center","position-relative","me-4"],["name","magnifier",1,"fs-3","position-absolute","ms-3"],["type","text","id","kt_filter_search","placeholder","Search",1,"form-control","form-control-white","form-control-sm","w-150px","ps-9"],[1,"btn","btn-primary","btn-sm","cursor-pointer"],[1,"row","g-6","g-xl-9","mb-6","mb-xl-9"],[1,"col-12","col-sm-12","col-xl"],["icon","./assets/media/svg/files/folder-document.svg","title","Finance","description","7 files"],["icon","./assets/media/svg/files/folder-document.svg","title","Customers","description","3 files"],["icon","./assets/media/svg/files/folder-document.svg","title","CRM Project","description","25 files"],["icon","./assets/media/svg/files/pdf.svg","title","Project Reqs..","description","3 days ago"],["icon","./assets/media/svg/files/doc.svg","title","CRM App Docs..","description","3 days ago"],["icon","./assets/media/svg/files/css.svg","title","User CRUD Styles","description","4 days ago"],["icon","./assets/media/svg/files/ai.svg","title","Metronic Logo","description","5 days ago"],["icon","./assets/media/svg/files/sql.svg","title","Orders backup","description","1 week ago"],["icon","./assets/media/svg/files/xml.svg","title","UTAIR CRM API Co..","description","2 week ago"],["icon","./assets/media/svg/files/tif.svg","title","Tower Hill App..","description","3 week ago"]],template:function(a,r){1&a&&(e.j41(0,"div",0)(1,"h3",1),e.EFF(2," My Documents "),e.j41(3,"span",2),e.EFF(4,"100+ resources"),e.k0s()(),e.j41(5,"div",3)(6,"div",4),e.nrm(7,"app-keenicon",5)(8,"input",6),e.k0s(),e.j41(9,"a",7),e.EFF(10," File Manager "),e.k0s()()(),e.j41(11,"div",8)(12,"div",9),e.nrm(13,"app-card4",10),e.k0s(),e.j41(14,"div",9),e.nrm(15,"app-card4",11),e.k0s(),e.j41(16,"div",9),e.nrm(17,"app-card4",12),e.k0s()(),e.j41(18,"div",8)(19,"div",9),e.nrm(20,"app-card4",13),e.k0s(),e.j41(21,"div",9),e.nrm(22,"app-card4",14),e.k0s(),e.j41(23,"div",9),e.nrm(24,"app-card4",15),e.k0s(),e.j41(25,"div",9),e.nrm(26,"app-card4",16),e.k0s(),e.j41(27,"div",9),e.nrm(28,"app-card4",17),e.k0s()(),e.j41(29,"div",8)(30,"div",9),e.nrm(31,"app-card4",18),e.k0s(),e.j41(32,"div",9),e.nrm(33,"app-card4",19),e.k0s()())},dependencies:[J.A,u.w],encapsulation:2})}return t})();var B=o(22),H=o(3311);const R=t=>[t];let K=(()=>{class t{id="";icon="";messlokationID="";plz="";stadt="";strasse="";hausnummer="";jahresverbrauch_kWh="";spitzenlast_kW="";profil="";fortschritt=0;status="";farbe="";constructor(){}ngOnInit(){}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=e.VBU({type:t,selectors:[["app-lieferstellen-card"]],inputs:{id:"id",icon:"icon",messlokationID:"messlokationID",plz:"plz",stadt:"stadt",strasse:"strasse",hausnummer:"hausnummer",jahresverbrauch_kWh:"jahresverbrauch_kWh",spitzenlast_kW:"spitzenlast_kW",profil:"profil",fortschritt:"fortschritt",status:"status",farbe:"farbe"},decls:35,vars:21,consts:[[1,"card","border","border-2","border-gray-300","border-hover"],[1,"card-header","border-0","pt-9"],[1,"card-title","m-0","fs-3","fw-bolder","text-gray-900"],[1,"card-toolbar"],[1,"btn","btn-sm","btn-light","cursor-pointer","me-2",3,"routerLink"],[1,"svg-icon","svg-icon-3",3,"inlineSVG"],[1,"btn","btn-sm","btn-light","cursor-pointer",3,"routerLink"],[1,"card-body","p-9"],[1,"text-gray-500","fw-bold","fs-5","mt-1","mb-7"],[1,"d-flex","flex-wrap","mb-5"],[1,"border","border-gray-300","border-dashed","rounded","min-w-125px","py-3","px-4","me-7","mb-3"],[1,"fs-6","text-gray-800","fw-bolder"],[1,"fw-bold","text-gray-500"],[1,"border","border-gray-300","border-dashed","rounded","min-w-125px","py-3","px-4","mb-3"],["ngbTooltip","Status",1,"mb-5"],[1,"badge","fw-bolder","me-auto","px-4","py-3",3,"ngClass"],["ngbTooltip","Status",1,"h-4px","w-100","bg-light","mb-5"],["role","progressbar",1,"rounded","h-4px",3,"ngClass"]],template:function(a,r){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.EFF(3),e.k0s(),e.j41(4,"div",3)(5,"a",4),e.nrm(6,"span",5),e.k0s(),e.j41(7,"a",6),e.nrm(8,"span",5),e.k0s()()(),e.j41(9,"div",7)(10,"p",8),e.EFF(11),e.nrm(12,"br"),e.EFF(13),e.k0s(),e.j41(14,"div",9)(15,"div",10)(16,"div",11),e.EFF(17),e.k0s(),e.j41(18,"div",12),e.EFF(19,"Jahresverbrauch (kWh)"),e.k0s()(),e.j41(20,"div",13)(21,"div",11),e.EFF(22),e.k0s(),e.j41(23,"div",12),e.EFF(24,"Spitzenlast (kW)"),e.k0s()(),e.j41(25,"div",13)(26,"div",11),e.EFF(27),e.k0s(),e.j41(28,"div",12),e.EFF(29,"Spitzenlast (kW)"),e.k0s()()(),e.j41(30,"div",14)(31,"span",15),e.EFF(32),e.k0s()(),e.j41(33,"div",16),e.nrm(34,"div",17),e.k0s()()()),2&a&&(e.R7$(3),e.SpI(" Melo: ",r.messlokationID," "),e.R7$(2),e.Y8G("routerLink",e.eq3(17,R,"/messlokation-lastkurve/"+r.id)),e.R7$(),e.Y8G("inlineSVG","./assets/media/icons/duotune/graphs/gra003.svg"),e.R7$(),e.Y8G("routerLink",e.eq3(19,R,"/messlokation-anlegen/"+r.id)),e.R7$(),e.Y8G("inlineSVG","./assets/media/icons/duotune/coding/cod001.svg"),e.R7$(3),e.Lme(" ",r.strasse," ",r.hausnummer," "),e.R7$(2),e.Lme(" ",r.plz," ",r.stadt," "),e.R7$(4),e.JRh(r.jahresverbrauch_kWh),e.R7$(5),e.JRh(r.spitzenlast_kW),e.R7$(5),e.JRh(r.profil),e.R7$(4),e.Y8G("ngClass","badge-light-"+r.farbe),e.R7$(),e.SpI(" ",r.status," "),e.R7$(2),e.xc7("width",r.fortschritt+"%"),e.Y8G("ngClass","bg-"+r.farbe))},dependencies:[l.YU,d.Wk,h.ll,H.md],encapsulation:2})}return t})();function Q(t,s){if(1&t&&(e.qex(0),e.j41(1,"div",10),e.nrm(2,"app-lieferstellen-card",11),e.k0s(),e.bVm()),2&t){const n=s.$implicit;e.R7$(2),e.FS9("id",n.messlokationID),e.FS9("messlokationID",n.messlokationID),e.FS9("plz",n.plz),e.FS9("stadt",n.stadt),e.FS9("strasse",n.strasse),e.FS9("hausnummer",n.hausnummer),e.FS9("jahresverbrauch_kWh",n.jahresverbrauch_kWh),e.FS9("spitzenlast_kW",n.spitzenlast_kW),e.FS9("profil",n.profil),e.FS9("status",n.status),e.FS9("farbe",n.style),e.Y8G("fortschritt",n.fortschritt)}}function Z(t,s){if(1&t&&(e.qex(0),e.j41(1,"div",2)(2,"h3",3),e.EFF(3," Messlokationen "),e.k0s(),e.j41(4,"div",4)(5,"a",5),e.nrm(6,"span",6),e.EFF(7," Weitere Messlokation hinzuf\xfcgen "),e.k0s(),e.j41(8,"a",7),e.EFF(9," CSV-Import "),e.k0s()()(),e.j41(10,"div",8),e.DNE(11,Q,3,12,"ng-container",9),e.nI1(12,"async"),e.k0s(),e.bVm()),2&t){const n=e.XpG();e.R7$(6),e.Y8G("inlineSVG","./assets/media/icons/duotune/arrows/arr075.svg"),e.R7$(5),e.Y8G("ngForOf",e.bMT(12,2,n.messlokationen$))}}function ee(t,s){1&t&&(e.j41(0,"div",12)(1,"span",13),e.EFF(2,"Loading..."),e.k0s()())}let ne=(()=>{class t{messlokationenApiService;route;cdr;constructor(n,a,r){this.messlokationenApiService=n,this.route=a,this.cdr=r}messlokationen$;isLoading;ngOnInit(){this.isLoading=!0,this.route.paramMap.subscribe(n=>{this.getMesslokation(n.get("id")),this.isLoading=!1})}getMesslokation(n){this.messlokationen$=this.messlokationenApiService.getMesslokationen(n)}static \u0275fac=function(a){return new(a||t)(e.rXU(B.E),e.rXU(d.nX),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:t,selectors:[["app-projects"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"d-flex","flex-wrap","flex-stack","mb-6"],[1,"fw-bolder","my-2"],[1,"d-flex","flex-wrap","my-2"],["routerLink","/messlokation-anlegen",1,"btn","btn-primary","btn-sm","cursor-pointer"],[1,"svg-icon","svg-icon-3",3,"inlineSVG"],["data-bs-toggle","modal","data-bs-target","#kt_modal_1",1,"btn","btn-secondary","btn-sm","cursor-pointer"],[1,"row","g-6","g-xl-9"],[4,"ngFor","ngForOf"],[1,"col-md-6","col-xl-4"],["icon","./assets/media/svg/brand-logos/plurk.svg",3,"id","messlokationID","plz","stadt","strasse","hausnummer","jahresverbrauch_kWh","spitzenlast_kW","profil","fortschritt","status","farbe"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(a,r){if(1&a&&e.DNE(0,Z,13,4,"ng-container",1)(1,ee,3,0,"ng-template",null,0,e.C5r),2&a){const i=e.sdS(2);e.Y8G("ngIf",!r.isLoading)("ngIfElse",i)}},dependencies:[l.Sq,l.bT,d.Wk,h.ll,K,l.Jj],encapsulation:2})}return t})();const te=new p.Lr({"Content-Type":"application/json","Access-Control-Allow-Origin":"*","X-Skip-XSRF-TOKEN":"true"});let ae=(()=>{class t{http;nachrichtenUrl=F.c.backendApi+"/v1/nachricht";constructor(n){this.http=n}getNachrichten(n){return this.http.get(`${this.nachrichtenUrl}?anfrageID=${n}`,{headers:te}).pipe((0,v.T)(r=>r.nachricht),(0,m.W)(this.handleError))}handleError(n){return console.error(n),(0,b.$)(n)}static \u0275fac=function(a){return new(a||t)(e.KVO(p.Qq))};static \u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const A=new p.Lr({"Content-Type":"application/json","Access-Control-Allow-Origin":"*","X-Skip-XSRF-TOKEN":"true"});let $=(()=>{class t{http;constructor(n){this.http=n}nachrichtenAgentUrl=F.c.backendApi+"/agent-v1/nachricht";getNachrichten(n,a){return this.http.get(`${this.nachrichtenAgentUrl}?anfrageID=${a}&partnerprofilID=${n}`,{headers:A}).pipe((0,v.T)(i=>i.nachricht),(0,m.W)(this.handleError))}createNachricht(n){return this.http.post(this.nachrichtenAgentUrl,n,{headers:A}).pipe((0,m.W)(this.handleError))}handleError(n){return console.error(n),(0,b.$)(n)}static \u0275fac=function(a){return new(a||t)(e.KVO(p.Qq))};static \u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function re(t,s){if(1&t&&(e.qex(0),e.j41(1,"a",23),e.EFF(2),e.k0s(),e.bVm()),2&t){const n=e.XpG().$implicit;e.R7$(),e.ZvI("btn btn-sm btn-",n.stil," align-self-center text-nowrap cursor-pointer"),e.FS9("routerLink",n.link),e.R7$(),e.SpI(" ",n.linkText," ")}}function ie(t,s){if(1&t&&(e.qex(0),e.j41(1,"div",8),e.nrm(2,"div",9),e.j41(3,"div",10)(4,"div",11),e.nrm(5,"span",12),e.k0s()(),e.j41(6,"div",13)(7,"div",14)(8,"div",15),e.EFF(9),e.k0s(),e.j41(10,"div",16)(11,"div",17),e.EFF(12),e.k0s()()(),e.j41(13,"div",18)(14,"div")(15,"div",19)(16,"div",20)(17,"div",21),e.EFF(18),e.k0s()(),e.DNE(19,re,3,5,"ng-container",22),e.k0s()()()()(),e.bVm()),2&t){const n=s.$implicit;e.R7$(5),e.Y8G("inlineSVG","./assets/media/icons/duotune/"+n.icon),e.R7$(4),e.SpI(" ",n.nachrichtTitel," "),e.R7$(3),e.Lme("Erzeugt ",n.erstellt," von ",n.erzeuger,""),e.R7$(2),e.STu(" notice d-flex bg-light-",n.stil," rounded border-",n.stil," border border-dashed min-w-lg-600px flex-shrink-0 p-3"),e.R7$(4),e.SpI(" ",n.nachrichtInhalt," "),e.R7$(),e.Y8G("ngIf",n.link&&n.linkText)}}function se(t,s){if(1&t&&(e.qex(0),e.j41(1,"div")(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5,"Nachrichten\xfcbersicht"),e.k0s()(),e.j41(6,"div",5)(7,"div",6),e.DNE(8,ie,20,10,"ng-container",7),e.nI1(9,"async"),e.k0s()()()(),e.bVm()),2&t){const n=e.XpG();e.R7$(8),e.Y8G("ngForOf",e.bMT(9,1,n.nachrichten$))}}function oe(t,s){1&t&&(e.j41(0,"div",24)(1,"span",25),e.EFF(2,"Loading..."),e.k0s()())}function ce(t,s){if(1&t){const n=e.RV6();e.j41(0,"input",20),e.mxI("ngModelChange",function(r){e.eBV(n);const i=e.XpG().$implicit,g=e.XpG(2);return e.DH7(g.nachricht[i.name],r)||(g.nachricht[i.name]=r),e.Njj(r)}),e.k0s()}if(2&t){const n=e.XpG().$implicit,a=e.XpG(2);e.Y8G("placeholder",n.label)("name",n.name),e.R50("ngModel",a.nachricht[n.name]),e.Y8G("required",a.checkRequired(n.validations))("minlength",a.getMinLength(n.validations))("disabled",a.lockForEdit)}}function de(t,s){if(1&t&&(e.qex(0),e.j41(1,"div",22),e.EFF(2),e.k0s(),e.bVm()),2&t){const n=e.XpG().$implicit;e.R7$(2),e.SpI(" ",n.message," ")}}function ge(t,s){if(1&t&&(e.j41(0,"div"),e.DNE(1,de,3,1,"ng-container",17),e.k0s()),2&t){const n=s.$implicit,a=e.XpG(2).$implicit;e.XpG();const r=e.sdS(8);e.R7$(),e.Y8G("ngIf",null==r.controls[a.name].errors?null:r.controls[a.name].errors[n.name])}}function pe(t,s){if(1&t&&(e.qex(0),e.DNE(1,ge,2,1,"div",21),e.bVm()),2&t){const n=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",n.validations)}}function me(t,s){if(1&t&&(e.j41(0,"div",10)(1,"label",18),e.EFF(2),e.k0s(),e.j41(3,"div",12),e.DNE(4,ce,1,6,"input",19)(5,pe,2,1,"ng-container",17),e.k0s()()),2&t){const n=s.$implicit;e.XpG();const a=e.sdS(8);e.R7$(2),e.JRh(n.label),e.R7$(2),e.Y8G("ngIf","text"===n.type),e.R7$(),e.Y8G("ngIf",a.controls[n.name]&&a.controls[n.name].invalid&&(a.controls[n.name].dirty||!a.controls[n.name].untouched))}}function he(t,s){1&t&&(e.qex(0),e.EFF(1,"Speichern"),e.bVm())}function fe(t,s){1&t&&(e.qex(0),e.j41(1,"span",23),e.EFF(2),e.nrm(3,"span",24),e.k0s(),e.bVm()),2&t&&(e.R7$(),e.xc7("display","block"),e.R7$(),e.SpI(" Please wait..."," "," "))}function ue(t,s){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div")(2,"div",3)(3,"div",4)(4,"h3",5),e.EFF(5),e.k0s()(),e.j41(6,"div",6)(7,"form",7,1),e.bIt("ngSubmit",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.createNachricht())}),e.j41(9,"div",8),e.DNE(10,me,6,3,"div",9),e.j41(11,"div",10)(12,"label",11),e.EFF(13,"Email Requested"),e.k0s(),e.j41(14,"div",12)(15,"input",13),e.mxI("ngModelChange",function(r){e.eBV(n);const i=e.XpG();return e.DH7(i.nachricht.emailRequested,r)||(i.nachricht.emailRequested=r),e.Njj(r)}),e.k0s()()()(),e.j41(16,"div",14)(17,"button",15),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.cancel())}),e.EFF(18,"Abbrechen"),e.k0s(),e.j41(19,"button",16),e.DNE(20,he,2,0,"ng-container",17)(21,fe,4,3,"ng-container",17),e.k0s()()()()()(),e.bVm()}if(2&t){const n=e.sdS(8),a=e.XpG();e.R7$(5),e.SpI("Nachricht erstellen f\xfcr Anfrage ",a.anfrageID,""),e.R7$(5),e.Y8G("ngForOf",a.fields),e.R7$(5),e.R50("ngModel",a.nachricht.emailRequested),e.Y8G("disabled",a.lockForEdit),e.R7$(2),e.Y8G("disabled",a.isLoading),e.R7$(2),e.Y8G("disabled",!n.valid||a.isLoading),e.R7$(),e.Y8G("ngIf",!a.isLoading),e.R7$(),e.Y8G("ngIf",a.isLoading)}}function be(t,s){1&t&&(e.j41(0,"div",25)(1,"span",26),e.EFF(2,"Loading..."),e.k0s()())}const ve=[{path:"",component:y,children:[{path:"anfrageparameter",component:D},{path:"messlokationen",component:ne},{path:"angebote",component:O},{path:"dokumente",component:P},{path:"nachrichten",component:(()=>{class t{nachrichtenApiService;nachrichtenAgentApiService;route;authHelperService;constructor(n,a,r,i){this.nachrichtenApiService=n,this.nachrichtenAgentApiService=a,this.route=r,this.authHelperService=i}anfrageID;nachrichten$;isLoading;ngOnInit(){this.isLoading=!0,this.route.paramMap.subscribe(n=>{this.getNachrichten(),this.isLoading=!1})}getNachrichten(){this.authHelperService.isAgent().subscribe(n=>{this.route.parent?.paramMap.subscribe(a=>{this.anfrageID=a.get("id"),n?this.route.queryParamMap.subscribe(r=>{this.nachrichten$=this.nachrichtenAgentApiService.getNachrichten(r.get("partnerprofil"),this.anfrageID)}):this.nachrichten$=this.nachrichtenApiService.getNachrichten(this.anfrageID)})})}static \u0275fac=function(a){return new(a||t)(e.rXU(ae),e.rXU($),e.rXU(d.nX),e.rXU(f.M))};static \u0275cmp=e.VBU({type:t,selectors:[["app-nachrichten"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"card","shadow-none","rounded-0"],["id","kt_activities_header",1,"card-header"],[1,"card-title","fw-bolder","text-gray-900"],["id","kt_activities_body",1,"card-body","position-relative"],[1,"timeline"],[4,"ngFor","ngForOf"],[1,"timeline-item"],[1,"timeline-line","w-40px"],[1,"timeline-icon","symbol","symbol-circle","symbol-40px","me-4"],[1,"symbol-label","bg-light"],[1,"svg-icon","svg-icon-2","svg-icon-gray-500",3,"inlineSVG"],[1,"timeline-content","mb-10","mt-n1"],[1,"pe-3","mb-5"],[1,"fs-5","fw-bold","mb-2"],[1,"d-flex","align-items-center","mt-1","fs-6"],[1,"text-muted","me-2","fs-7"],[1,"overflow-auto","pb-5"],[1,"d-flex","flex-stack","flex-grow-1","flex-wrap","flex-md-nowrap"],[1,"mb-3","mb-md-0","fw-bold"],[1,"fs-6","text-gray-600","pe-7"],[4,"ngIf"],[3,"routerLink"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(a,r){if(1&a&&e.DNE(0,se,10,3,"ng-container",1)(1,oe,3,0,"ng-template",null,0,e.C5r),2&a){const i=e.sdS(2);e.Y8G("ngIf",!r.isLoading)("ngIfElse",i)}},dependencies:[l.Sq,l.bT,d.Wk,h.ll,l.Jj],encapsulation:2})}return t})()},{path:"nachricht-erstellen",component:(()=>{class t{nachrichtenAgentApiService;route;authHelperService;cdr;location;constructor(n,a,r,i,g){this.nachrichtenAgentApiService=n,this.route=a,this.authHelperService=r,this.cdr=i,this.location=g}anfrageID;nachricht={};isLoading;lockForEdit;fields=[{name:"nachrichtTitel",label:"Titel",type:"text",validations:[{name:"required",message:"Titel ist erforderlich"},{name:"minlength",value:4,message:"Titel ist zu kurz"}]},{name:"nachrichtInhalt",label:"Inhalt der Nachricht",type:"text",validations:[{name:"required",message:"Nachricht ist erforderlich"},{name:"minlength",value:4,message:"Nachricht ist zu kurz"}]},{name:"erzeuger",label:"Absender",type:"text",validations:[{name:"required",message:"Absender ist erforderlich"}]},{name:"icon",label:"icon",type:"text",validations:[]},{name:"stil",label:"Stil",type:"text",validations:[]}];checkRequired(n){return n.some(a=>"required"===a.name)}getMinLength(n){const a=n.find(r=>"minlength"===r.name);return a?a.value:null}ngOnInit(){this.isLoading=!0,this.route.parent?.paramMap.subscribe(n=>{this.anfrageID=n.get("id"),this.nachricht.anfrageID=n.get("id")||"",this.isLoading=!1}),this.route.queryParamMap.subscribe(n=>{this.nachricht.partnerprofilID=n.get("partnerprofil")||""})}createNachricht(){this.isLoading=!0,this.nachrichtenAgentApiService.createNachricht(this.nachricht).subscribe(n=>{this.isLoading=!1,this.nachricht=n,this.location.back()})}cancel(){this.location.back()}static \u0275fac=function(a){return new(a||t)(e.rXU($),e.rXU(d.nX),e.rXU(f.M),e.rXU(e.gRc),e.rXU(l.aZ))};static \u0275cmp=e.VBU({type:t,selectors:[["app-nachricht-erstellen"]],decls:3,vars:2,consts:[["loading",""],["nachrichtForm","ngForm"],[4,"ngIf","ngIfElse"],[1,"card","shadow-none","rounded-0"],["id","kt_activities_header",1,"card-header"],[1,"card-title","fw-bolder","text-gray-900"],["id","kt_account_profile_details",1,"collapse","show"],["novalidate","",1,"form",3,"ngSubmit"],[1,"card-body","border-top","p-9"],["class","row mb-6",4,"ngFor","ngForOf"],[1,"row","mb-6"],[1,"col-lg-4","col-form-label","fw-bold","fs-6"],[1,"col-lg-8","fv-row"],["type","checkbox","name","emailRequested",1,"form-check-input",3,"ngModelChange","ngModel","disabled"],[1,"card-footer","d-flex","justify-content-end","py-6","px-9"],["type","button",1,"btn","btn-light",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],[1,"col-lg-4","col-form-label","required","fw-bold","fs-6"],["type","text","class","form-control form-control-lg form-control-solid",3,"placeholder","name","ngModel","required","minlength","disabled","ngModelChange",4,"ngIf"],["type","text",1,"form-control","form-control-lg","form-control-solid",3,"ngModelChange","placeholder","name","ngModel","required","minlength","disabled"],[4,"ngFor","ngForOf"],[1,"text-danger"],["clas","indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(a,r){if(1&a&&e.DNE(0,ue,22,8,"ng-container",2)(1,be,3,0,"ng-template",null,0,e.C5r),2&a){const i=e.sdS(2);e.Y8G("ngIf",!r.isLoading)("ngIfElse",i)}},dependencies:[l.Sq,l.bT,c.qT,c.me,c.Zm,c.BC,c.cb,c.YS,c.xh,c.vS,c.cV],encapsulation:2})}return t})()},{path:"",redirectTo:"overview",pathMatch:"full"},{path:"**",redirectTo:"overview",pathMatch:"full"}]}];let Fe=(()=>{class t{static \u0275fac=function(a){return new(a||t)};static \u0275mod=e.$C({type:t});static \u0275inj=e.G2t({imports:[d.iI.forChild(ve),d.iI]})}return t})();var k=o(5061),ke=o(8646);let _e=(()=>{class t{static \u0275fac=function(a){return new(a||t)};static \u0275mod=e.$C({type:t});static \u0275inj=e.G2t({imports:[l.MD,Fe,h.e1,k.QV,k.ST,k.GE,ke.G,c.X1,c.YN]})}return t})()}}]);