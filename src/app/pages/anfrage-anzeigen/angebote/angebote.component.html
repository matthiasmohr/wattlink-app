<ng-container *ngIf="(!this.isLoading) ; else loading">
<div class="card card-xl-stretch- mb-xl-8">
<!-- begin::Header -->
<div class="card-header border-0 pt-5">
    <h3 class="card-title align-items-start flex-column">
        <span class="card-label fw-bolder fs-3 mb-1">Erhaltene Angebote</span>
        <span class="text-muted mt-1 fw-bold fs-7"> ($.erhalteneAngebote.Anzahl)</span>
    </h3>
</div>
<!-- end::Header -->
<!-- begin::Body -->
<div class="card-body py-3">
    <!-- begin::Table container -->
    <div class="table-responsive">
        <!-- begin::Table -->
        <table class="table align-middle gs-0 gy-4">
            <!-- begin::Table head -->
            <thead>
            <tr class="fw-bolder text-muted bg-light">
                <th class="ps-4 min-w-325px rounded-start">Versorger & Angebot</th>
                <th class="min-w-125px">Grundpreis</th>
                <th class="min-w-125px">Arbeitspreis</th>
                <th class="min-w-200px">Leistungspreis</th>
                <th class="min-w-150px">Status</th>
                <th class="min-w-200px text-end rounded-end"></th>
            </tr>
            </thead>
            <!-- end::Table head -->
            <!-- begin::Table body -->
            <tbody>

            <ng-container *ngFor="let angebot of angebote$ | async">
                <tr>
                    <td>
                        <div class="d-flex align-items-center">
                            <div class="symbol symbol-50px me-5">
                                <img src="{{angebot.angebotenVonLogo}}" class="" alt=""/>
                            </div>
                            <div class="d-flex justify-content-start flex-column">
                                <a href="#" class="text-gray-900 fw-bolder text-hover-primary mb-1 fs-6">
                                    {{angebot.angebotenVonKurzbeschreibung}} - {{angebot.angebotTitel}}
                                </a>
                                <span class="text-muted fw-bold text-muted d-block fs-7">
                                    {{angebot.angebotKurzbeschreibung}}
                                </span>
                            </div>
                        </div>
                    </td>
                    <td>
                        <a href="#" class="text-gray-900 fw-bolder text-hover-primary d-block mb-1 fs-6">
                            {{angebot.jahresgrundpreisEur}} EUR
                        </a>
                        <span class="text-muted fw-bold text-muted d-block fs-7">pro Jahr</span>
                    </td>
                    <td>
                        <a href="#" class="text-gray-900 fw-bolder text-hover-primary d-block mb-1 fs-6">
                            {{angebot.verbrauchspreisCentKwh}} Ct
                        </a>
                        <span class="text-muted fw-bold text-muted d-block fs-7">
                            pro kWh
                        </span>
                    </td>
                    <td>
                        <a href="#" class="text-gray-900 fw-bolder text-hover-primary d-block mb-1 fs-6">
                            {{angebot.leistungspreisEurKw}}
                        </a>
                        <span class="text-muted fw-bold text-muted d-block fs-7">
                            pro KW
                        </span>
                    </td>
                    <td>
                        <span class="badge badge-light-info fs-7 fw-bold">{{angebot.status}}</span>
                    </td>
                    <td class="text-end">
                        <button class="btn btn-bg-light btn-active-color-primary btn-sm me-1" (click)="getDetails(angebot)">
                            <span
                                    [inlineSVG]="'./assets/media/icons/duotune/general/gen019.svg'"
                                    class="svg-icon svg-icon-3">
                            </span>
                            Details
                        </button>
                        <a href="#" class="btn btn-bg-light btn-active-color-primary btn-sm me-1 ">
                            <span
                                    [inlineSVG]="'./assets/media/icons/duotune/art/art005.svg'"
                                    class="svg-icon svg-icon-3">
                            </span>
                            Annehmen
                        </a>
                    </td>
                </tr>
            </ng-container>

            </tbody>
            <!-- end::Table body -->
        </table>
        <!-- end::Table -->
    </div>
    <!-- end::Table container -->
</div>
<!-- begin::Body -->
</div>
</ng-container>
<ng-template #loading>
    <div class="spinner-border" role="status">
        <span class="sr-only">Loading...</span>
    </div>
</ng-template>